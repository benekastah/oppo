/*! Kizzy v1.0
  * https://github.com/polvero/kizzy
  * Copyright: @ded Dustin Diaz 2011
  * License: CC Attribution: http://creativecommons.org/licenses/by/3.0/
  */!function(a,b,c,d){function A(a){this.ns=a,this._=JSON.parse(C(a)||"{}")}function z(){this._={}}function y(){while(k.firstChild)k.removeChild(k.firstChild);i.save(d)}function x(a){u(a)&&k.removeChild(node),i.save(d)}function w(a,b){var c=u(a);c?c.setAttribute("value",b):(c=j.createNode(1,"item",""),c.setAttribute("key",a),c.setAttribute("value",b),k.appendChild(c)),i.save(d);return b}function v(a){var b=u(a),c=null;b&&(c=b.getAttribute("value"));return c}function u(a){var b=k.childNodes,c,d=null;for(var e=0,f=b.length;e<f;e++){c=b.item(e);if(c.getAttribute("key")==a){d=c;break}}return d}function t(){c.clear()}function s(a){delete c[a]}function r(a,b){c[a]=b;return b}function q(a){return c[a]}function p(a){return typeof a=="number"&&isFinite(a)}function o(a,b){a._[b]&&a._[b].e&&a._[b].e<n()&&a.remove(b)}function n(){return+(new Date)}function m(){}var e,f=0,g=function(){return 1};try{e=!!c||!!globalStorage,c=c||globalStorage[d],f=1}catch(h){f=0;try{if(b.documentElement.addBehavior){f=0,e=1;var i=b.documentElement;i.addBehavior("#default#userData"),i.load(d);var j=i.xmlDocument,k=j.documentElement}}catch(l){e=!1}}z.prototype={set:function(a,b,c){this._[a]={value:b,e:p(c)?n()+c:0},g(this)||this.remove(a);return b},get:function(a){o(this,a);return this._[a]?this._[a].value:undefined},remove:function(a){delete this._[a],g(this)},clear:function(){this._={},g(this)}},A.prototype=z.prototype,a.Kizzy=function(a){return new A(a)},a.Kizzy.remove=function(a){D(a)},a.Kizzy.clear=function(){E()};if(e){var B=f?r:w,C=f?q:v,D=f?s:x,E=f?t:y;g=function(a){try{B(a.ns,JSON.stringify(a._));return 1}catch(b){return 0}}}else var B=m,C=m,D=function(a){},E=function(){}}(window,document,localStorage,document.domain)